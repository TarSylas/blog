<html>
<head>
  <style>body {background-color: #eee;}</style>
</head>
<body>
  <script src="lib.js"></script>

  <canvas id="spm" width="800" height="800"/>

  <script>
      var canvas = document.getElementById("spm");
      var ctx = canvas.getContext("2d");
      ctx.fillStyle = "#fff";
      ctx.fillRect(0,0,10000,10000);

      var spacing = 120;
      var trans = new Rect({x: 50, y: 50, w: 200, h: 50});
      var disk = trans.offset(0, spacing);
      var compiled = disk.offset(0, spacing);
      var loaded = compiled.offset(0, spacing);
      var instance = loaded.offset(0, spacing);

      draw.textbox(ctx, "Resource (transient)", trans);
      draw.textbox(ctx, "Resource (disk)", disk);
      draw.textbox(ctx, "Resource (compiled)", compiled);
      draw.textbox(ctx, "Resource (loaded)", loaded);
      draw.textbox(ctx, "Instance", instance);

      var save = draw.arrow(ctx, trans.bottomCenter, disk.topCenter);
      var compile = draw.arrow(ctx, disk.bottomCenter, compiled.topCenter);
      var load = draw.arrow(ctx, compiled.bottomCenter, loaded.topCenter);
      var spawn = draw.arrow(ctx, loaded.bottomCenter, instance.topCenter);

      ctx.textAlign = "left";
      ctx.fillText("Save", save.center + 20, save.middle);
      ctx.fillText("Compile", save.center + 20, compile.middle);
      ctx.fillText("Load", save.center + 20, load.middle);
      ctx.fillText("Spawn", save.center + 20, spawn.middle);


      console.log("bla");

      //draw.arrow(ctx, rep.center,rep.bottom,lib.center,lib.top);
      //draw.arrow(ctx, lib.right, lib.middle, cache.left, cache.middle, true);

      // ctx.fillText("Download specific artifact version", 140, 130)
      // ctx.fillText("Cache store/retrieve", 320, 200);
  </script>
</body>
</html>
